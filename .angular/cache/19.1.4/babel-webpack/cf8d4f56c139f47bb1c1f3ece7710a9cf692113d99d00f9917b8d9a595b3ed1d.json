{"ast":null,"code":"import Swal from 'sweetalert2';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatCardModule } from '@angular/material/card';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user.service\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nexport let SignupComponent = /*#__PURE__*/(() => {\n  class SignupComponent {\n    userService;\n    snack;\n    router;\n    constructor(userService, snack, router) {\n      this.userService = userService;\n      this.snack = snack;\n      this.router = router;\n    }\n    user = {\n      username: '',\n      password: '',\n      firstName: '',\n      lastName: '',\n      email: '',\n      phone: ''\n    };\n    //regex for validations\n    alphabets = /^[A-Za-z]+$/;\n    phoneNumber = /^\\d{10}$/;\n    ngOnInit() {}\n    formSubmit() {\n      let validationError = false;\n      // Validation checks\n      if (this.user.firstName == '' || this.user.firstName == null || !this.user.firstName.match(this.alphabets)) {\n        validationError = true;\n        this.snack.open('Invalid First Name', '', {\n          duration: 3000\n        });\n        return;\n      }\n      if (this.user.lastName == '' || this.user.lastName == null || !this.user.lastName.match(this.alphabets)) {\n        validationError = true;\n        this.snack.open('Invalid Last Name!', '', {\n          duration: 3000\n        });\n        return;\n      }\n      if (this.user.username == '' || this.user.username == null) {\n        validationError = true;\n        this.snack.open('Username is Mandatory!', '', {\n          duration: 3000\n        });\n        return;\n      }\n      if (this.user.password == '' || this.user.password == null) {\n        validationError = true;\n        this.snack.open('Password is Mandatory!', '', {\n          duration: 3000\n        });\n        return;\n      }\n      if (!this.user.phone.match(this.phoneNumber)) {\n        validationError = true;\n        this.snack.open('Invalid Phone Number!! ', '', {\n          duration: 3000\n        });\n        return;\n      }\n      // If no validation errors, submit the form\n      if (!validationError) {\n        this.userService.addUser(this.user).subscribe(data => {\n          console.log(data);\n          Swal.fire('User is successfully registered.', 'Your Username is ' + data.username, 'success').then(() => {\n            // Redirect to login page after user closes the Swal alert\n            this.router.navigate(['/login']);\n          });\n        }, error => {\n          console.log(error);\n          this.snack.open(error.error.text, '', {\n            duration: 3000\n          });\n        });\n      }\n    }\n    onClear() {\n      this.user.username = '';\n      this.user.password = '';\n      this.user.firstName = '';\n      this.user.lastName = '';\n      this.user.email = '';\n      this.user.phone = '';\n    }\n    static ɵfac = function SignupComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || SignupComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.MatSnackBar), i0.ɵɵdirectiveInject(i3.Router));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SignupComponent,\n      selectors: [[\"app-signup\"]],\n      decls: 32,\n      vars: 6,\n      consts: [[\"registrationForm\", \"ngForm\"], [1, \"signup-wrapper\"], [1, \"signup-card\"], [1, \"text-center\", \"signup-header\"], [3, \"ngSubmit\"], [\"for\", \"firstName\", 1, \"field-label\"], [\"type\", \"text\", \"id\", \"firstName\", \"name\", \"firstName\", \"placeholder\", \"Enter your first name\", \"required\", \"\", 1, \"input-field\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"lastName\", 1, \"field-label\"], [\"type\", \"text\", \"id\", \"lastName\", \"name\", \"lastName\", \"placeholder\", \"Enter your last name\", \"required\", \"\", 1, \"input-field\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"email\", 1, \"field-label\"], [\"id\", \"email\", \"name\", \"email\", \"type\", \"email\", \"placeholder\", \"Enter your email\", \"required\", \"\", 1, \"input-field\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"username\", 1, \"field-label\"], [\"type\", \"text\", \"id\", \"username\", \"name\", \"username\", \"placeholder\", \"Enter your username\", \"required\", \"\", 1, \"input-field\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"password\", 1, \"field-label\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"placeholder\", \"Enter your password\", \"required\", \"\", 1, \"input-field\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"phone\", 1, \"field-label\"], [\"id\", \"phone\", \"name\", \"phone\", \"type\", \"tel\", \"maxlength\", \"10\", \"placeholder\", \"Enter your phone number\", \"required\", \"\", 1, \"input-field\", 3, \"ngModelChange\", \"ngModel\"], [1, \"text-center\", \"mt-4\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"text-center\", \"mt-3\"], [1, \"register-text\"], [\"routerLink\", \"/login\", 1, \"btn-link\"]],\n      template: function SignupComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"h1\", 3);\n          i0.ɵɵtext(3, \"User Registration\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"form\", 4, 0);\n          i0.ɵɵlistener(\"ngSubmit\", function SignupComponent_Template_form_ngSubmit_4_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.formSubmit());\n          });\n          i0.ɵɵelementStart(6, \"label\", 5);\n          i0.ɵɵtext(7, \"First Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"input\", 6);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function SignupComponent_Template_input_ngModelChange_8_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.user.firstName, $event) || (ctx.user.firstName = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"label\", 7);\n          i0.ɵɵtext(10, \"Last Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"input\", 8);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function SignupComponent_Template_input_ngModelChange_11_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.user.lastName, $event) || (ctx.user.lastName = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"label\", 9);\n          i0.ɵɵtext(13, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"input\", 10);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function SignupComponent_Template_input_ngModelChange_14_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.user.email, $event) || (ctx.user.email = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"label\", 11);\n          i0.ɵɵtext(16, \"Username\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"input\", 12);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function SignupComponent_Template_input_ngModelChange_17_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.user.username, $event) || (ctx.user.username = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"label\", 13);\n          i0.ɵɵtext(19, \"Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"input\", 14);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function SignupComponent_Template_input_ngModelChange_20_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.user.password, $event) || (ctx.user.password = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"label\", 15);\n          i0.ɵɵtext(22, \"Phone\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"input\", 16);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function SignupComponent_Template_input_ngModelChange_23_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.user.phone, $event) || (ctx.user.phone = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"div\", 17)(25, \"button\", 18);\n          i0.ɵɵtext(26, \"Register\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(27, \"div\", 19)(28, \"span\", 20);\n          i0.ɵɵtext(29, \"Already have an account?\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"a\", 21);\n          i0.ɵɵtext(31, \"Login\");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.user.firstName);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.user.lastName);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.user.email);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.user.username);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.user.password);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.user.phone);\n        }\n      },\n      dependencies: [MatFormFieldModule, MatInputModule, MatCardModule, FormsModule, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MaxLengthValidator, i4.NgModel, i4.NgForm, CommonModule],\n      styles: [\"body[_ngcontent-%COMP%]{background-color:#f9f9ef;font-family:Arial,sans-serif;margin:0;padding:0}.signup-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh}.signup-card[_ngcontent-%COMP%]{width:100%;max-width:400px;background-color:#fff;padding:30px;box-shadow:0 6px 12px #00800066;border-radius:12px;text-align:center;margin-top:35px}.signup-header[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px}.field-label[_ngcontent-%COMP%]{display:block;text-align:left;font-weight:600;margin:10px 0 5px}.input-field[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:16px;border:1px solid #ddd;border-radius:8px;margin-bottom:15px;outline:none;transition:border-color .3s}.input-field[_ngcontent-%COMP%]:focus{border-color:#007bff}.btn[_ngcontent-%COMP%]{display:inline-block;padding:12px 20px;font-size:16px;color:#fff;background-color:#007bff;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}.btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-primary[_ngcontent-%COMP%]{width:100%}.btn-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-weight:600;margin-left:5px}.btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.register-text[_ngcontent-%COMP%]{font-size:14px;color:#666}@media (max-width: 768px){.login-card[_ngcontent-%COMP%]{padding:20px}}\"]\n    });\n  }\n  return SignupComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}